<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Match food units to a standard list of units — match_food_units_v2 • hcesNutR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Match food units to a standard list of units — match_food_units_v2"><meta property="og:description" content="This function matches food units in a data frame to a standard list of units.
The function creates a unit key column in the data frame and uses it to match
the food units to the standard list of units. The function can use an internal
list of units or a user-provided list of units. The function can overwrite the
original columns with the matched columns or create new columns for the matched
units. The function returns the data frame with the matched units and a column
indicating the source of the match."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hcesNutR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dzvoti/hcesR2/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Match food units to a standard list of units</h1>
    <small class="dont-index">Source: <a href="https://github.com/dzvoti/hcesR2/blob/master/R/clean_hces.R" class="external-link"><code>R/clean_hces.R</code></a></small>
    <div class="hidden name"><code>match_food_units_v2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function matches food units in a data frame to a standard list of units.
The function creates a unit key column in the data frame and uses it to match
the food units to the standard list of units. The function can use an internal
list of units or a user-provided list of units. The function can overwrite the
original columns with the matched columns or create new columns for the matched
units. The function returns the data frame with the matched units and a column
indicating the source of the match.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">match_food_units_v2</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">country</span>,</span>
<span>  <span class="va">survey</span>,</span>
<span>  <span class="va">unit_name_col</span>,</span>
<span>  <span class="va">unit_code_col</span>,</span>
<span>  matches_csv <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing the food units to be matched.</p></dd>


<dt id="arg-country">country<a class="anchor" aria-label="anchor" href="#arg-country"></a></dt>
<dd><p>A character string indicating the country for which the food units are being matched.</p></dd>


<dt id="arg-survey">survey<a class="anchor" aria-label="anchor" href="#arg-survey"></a></dt>
<dd><p>A character string indicating the survey for which the food units are being matched.</p></dd>


<dt id="arg-unit-name-col">unit_name_col<a class="anchor" aria-label="anchor" href="#arg-unit-name-col"></a></dt>
<dd><p>A character string indicating the name of the column containing the food unit names in the data frame.</p></dd>


<dt id="arg-unit-code-col">unit_code_col<a class="anchor" aria-label="anchor" href="#arg-unit-code-col"></a></dt>
<dd><p>A character string indicating the name of the column containing the food unit codes in the data frame.</p></dd>


<dt id="arg-matches-csv">matches_csv<a class="anchor" aria-label="anchor" href="#arg-matches-csv"></a></dt>
<dd><p>A character string indicating the path to a CSV file containing the standard list of units. If NULL, the function uses an internal list of units.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>A logical value indicating whether to overwrite the original columns with the matched columns (TRUE) or create new columns for the matched units (FALSE).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data frame with the matched units and a column indicating the source of the match.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Match food units in a data frame to a standard list of units</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>food <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"orange"</span><span class="op">)</span>, unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"kg"</span>, <span class="st">"lb"</span>, <span class="st">"g"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">match_food_units_v2</span><span class="op">(</span><span class="va">data</span>, <span class="st">"MWI"</span>, <span class="st">"IHS5"</span>, <span class="st">"food"</span>, <span class="st">"unit"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;"> There are 3 out of 3 rows with unmatched units, which represents 100% of the data. The missing values are shown in the pop up view: </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     food unit matched_food matched_unit unit_source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  apple   kg         &lt;NA&gt;         &lt;NA&gt;    NO-MATCH</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 banana   lb         &lt;NA&gt;         &lt;NA&gt;    NO-MATCH</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 orange    g         &lt;NA&gt;         &lt;NA&gt;    NO-MATCH</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Liberty Mlambo, Gareth Osman, Kevin Tang, Lucia Segovia de la Revilla, Louise E. Ander, Micronutrient Action Policy Support (MAPS) Project.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

