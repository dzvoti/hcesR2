<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Match food units to a standard list of units — match_food_units_v2 • hcesNutR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Match food units to a standard list of units — match_food_units_v2"><meta name="description" content="This function matches food units in a data frame to a standard list of units.
The function creates a unit key column in the data frame and uses it to match
the food units to the standard list of units. The function can use an internal
list of units or a user-provided list of units. The function can overwrite the
original columns with the matched columns or create new columns for the matched
units. The function returns the data frame with the matched units and a column
indicating the source of the match."><meta property="og:description" content="This function matches food units in a data frame to a standard list of units.
The function creates a unit key column in the data frame and uses it to match
the food units to the standard list of units. The function can use an internal
list of units or a user-provided list of units. The function can overwrite the
original columns with the matched columns or create new columns for the matched
units. The function returns the data frame with the matched units and a column
indicating the source of the match."><meta property="og:image" content="https://dzvoti.github.io/hcesNutR/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hcesNutR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dzvoti/hcesR2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Match food units to a standard list of units</h1>
      <small class="dont-index">Source: <a href="https://github.com/dzvoti/hcesR2/blob/master/R/clean_hces.R" class="external-link"><code>R/clean_hces.R</code></a></small>
      <div class="d-none name"><code>match_food_units_v2.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function matches food units in a data frame to a standard list of units.
The function creates a unit key column in the data frame and uses it to match
the food units to the standard list of units. The function can use an internal
list of units or a user-provided list of units. The function can overwrite the
original columns with the matched columns or create new columns for the matched
units. The function returns the data frame with the matched units and a column
indicating the source of the match.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">match_food_units_v2</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">country</span>,</span>
<span>  <span class="va">survey</span>,</span>
<span>  <span class="va">unit_name_col</span>,</span>
<span>  <span class="va">unit_code_col</span>,</span>
<span>  matches_csv <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing the food units to be matched.</p></dd>


<dt id="arg-country">country<a class="anchor" aria-label="anchor" href="#arg-country"></a></dt>
<dd><p>A character string indicating the country for which the food units are being matched.</p></dd>


<dt id="arg-survey">survey<a class="anchor" aria-label="anchor" href="#arg-survey"></a></dt>
<dd><p>A character string indicating the survey for which the food units are being matched.</p></dd>


<dt id="arg-unit-name-col">unit_name_col<a class="anchor" aria-label="anchor" href="#arg-unit-name-col"></a></dt>
<dd><p>A character string indicating the name of the column containing the food unit names in the data frame.</p></dd>


<dt id="arg-unit-code-col">unit_code_col<a class="anchor" aria-label="anchor" href="#arg-unit-code-col"></a></dt>
<dd><p>A character string indicating the name of the column containing the food unit codes in the data frame.</p></dd>


<dt id="arg-matches-csv">matches_csv<a class="anchor" aria-label="anchor" href="#arg-matches-csv"></a></dt>
<dd><p>A character string indicating the path to a CSV file containing the standard list of units. If NULL, the function uses an internal list of units.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>A logical value indicating whether to overwrite the original columns with the matched columns (TRUE) or create new columns for the matched units (FALSE).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with the matched units and a column indicating the source of the match.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Match food units in a data frame to a standard list of units</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>food <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"orange"</span><span class="op">)</span>, unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"kg"</span>, <span class="st">"lb"</span>, <span class="st">"g"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">match_food_units_v2</span><span class="op">(</span><span class="va">data</span>, <span class="st">"MWI"</span>, <span class="st">"IHS5"</span>, <span class="st">"food"</span>, <span class="st">"unit"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;"> There are 3 out of 3 rows with unmatched units, which represents 100% of the data. The missing values are shown in the pop up view: </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     food unit matched_food matched_unit unit_source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  apple   kg         &lt;NA&gt;         &lt;NA&gt;    NO-MATCH</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 banana   lb         &lt;NA&gt;         &lt;NA&gt;    NO-MATCH</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 orange    g         &lt;NA&gt;         &lt;NA&gt;    NO-MATCH</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Liberty Mlambo, Gareth Osman, Kevin Tang, Lucia Segovia de la Revilla, Louise E. Ander, Micronutrient Action Policy Support (MAPS) Project.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

